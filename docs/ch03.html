<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>第3回：▶︎ 連続な曲線を描く · Memorandom on Julia Language v0.6.4</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Memorandom on Julia Language v0.6.4</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="LICENSE.html">MIT License</a></li><li><a class="toctext" href="LICENSEja.html">MIT License 参考和訳</a></li><li><a class="toctext" href="ch00.html">はじめに</a></li><li><a class="toctext" href="ch01.html">第1回：▶︎ 簡単なグラフを描く</a></li><li><a class="toctext" href="ch02.html">第2回：▶︎ 複数のグラフを描く</a></li><li class="current"><a class="toctext" href="ch03.html">第3回：▶︎ 連続な曲線を描く</a><ul class="internal"><li><a class="toctext" href="#Jupyter-notebook-によるテキストの入力-1">■ Jupyter notebook によるテキストの入力</a></li><li><a class="toctext" href="#定義域・値域-1">▶︎ 定義域・値域</a></li><li><a class="toctext" href="#正弦関数・余弦関数を描く-1">▶︎ 正弦関数・余弦関数を描く</a></li><li><a class="toctext" href="#楕円を描く-1">▶︎ 楕円を描く</a></li><li><a class="toctext" href="#アルキメデスの渦を描く-1">▶︎ アルキメデスの渦を描く</a></li><li><a class="toctext" href="#練習-1">◀︎ 練習</a></li><li><a class="toctext" href="#花曲線を描く-1">▶︎ 花曲線を描く</a></li><li><a class="toctext" href="#指数関数を描く-1">▶︎ 指数関数を描く</a></li><li><a class="toctext" href="#平方根を描く-1">▶︎ 平方根を描く</a></li><li><a class="toctext" href="#立方根を描く-1">▶︎ 立方根を描く</a></li><li><a class="toctext" href="#冪乗根を描く-1">▶︎ 冪乗根を描く</a></li><li><a class="toctext" href="#自然対数-1">▶︎ 自然対数</a></li><li><a class="toctext" href="#対数関数-1">▶︎ 対数関数</a></li><li><a class="toctext" href="#ダブルYグラフを描く-1">▶︎ ダブルYグラフを描く</a></li><li><a class="toctext" href="#自由落下運動を描く-1">▶︎ 自由落下運動を描く</a></li><li><a class="toctext" href="#練習-2">◀︎ 練習</a></li><li><a class="toctext" href="#ダブルYグラフに共通な凡例の作成-1">▼▶︎ ダブルYグラフに共通な凡例の作成</a></li><li><a class="toctext" href="#練習-3">◀︎ 練習</a></li><li><a class="toctext" href="#複数のグラフを描く-1">▶︎ 複数のグラフを描く</a></li><li><a class="toctext" href="#練習：斜めに飛ばした球の軌跡-1">◀︎ 練習：斜めに飛ばした球の軌跡</a></li><li><a class="toctext" href="#練習-4">◀︎ 練習</a></li><li><a class="toctext" href="#今回のまとめ-1">★ 今回のまとめ</a></li></ul></li><li><a class="toctext" href="ch04.html">第4回：▶︎ 不連続な曲線を描く</a></li><li><a class="toctext" href="ch05.html">第5回：■ 条件式・■ 条件分岐</a></li><li><a class="toctext" href="ch06.html">第6回：■ 整数</a></li><li><a class="toctext" href="ch07.html">第7回：■ 浮動小数点数</a></li><li><a class="toctext" href="ch08.html">第8回： ▶︎ 総和・数値積分</a></li><li><a class="toctext" href="ch09.html">第9回： ■ 配列要素の操作</a></li><li><a class="toctext" href="ch10.html">第10回：線形代数</a></li><li><a class="toctext" href="ch11.html">第11回：複素数</a></li><li><a class="toctext" href="ch12.html">第12回：ファイル入出力</a></li><li><a class="toctext" href="ch13.html">第13回：検討中</a></li><li><a class="toctext" href="ch14.html">第14回：検討中</a></li><li><a class="toctext" href="ch15.html">第15回：落ち葉拾い</a></li><li><a class="toctext" href="index.html">toc</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="ch03.html">第3回：▶︎ 連続な曲線を描く</a></li></ul></nav><hr/><div id="topbar"><span>第3回：▶︎ 連続な曲線を描く</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="ch03-1" href="#ch03-1">第3回：▶︎ 連続な曲線を描く</a></h1><h2><a class="nav-anchor" id="Jupyter-notebook-によるテキストの入力-1" href="#Jupyter-notebook-によるテキストの入力-1">■ Jupyter notebook によるテキストの入力</a></h2><p>Jupyter notebook のセルには、複数の種類(Cell type)がある。</p><p>既定のセルの Cell type は、<code>Code</code> である。 プログラム片を入力して、<code>SHIFT</code>キーと<code>ENTER</code>キーを同時に押して実行すると、 出力セルに実行結果が表示される。</p><p>Cell type を Markdown に変更すると、 Markdown 記式によるテキストを入力できる。</p><p>Markdown 記式でテキストを入力し、 SHIFT+ENTERを押して実行すると、 Markdown記式で整形された文書が表示される。</p><p><a href="https://jupyter-notebook.readthedocs.io/en/stable/examples/Notebook/Working%20With%20Markdown%20Cells.html">Markdown Cells</a></p><p>Markdown記法では、空行が段落の区切りである。 空行をはさまない行替えは、前の行に続けて、同じ段落に配置される。</p><p>文字列の飾りは、たくさん使用しない方がよい。</p><p>URLリンクを書くには、次のように記述する。 <code>[</code> 表示名 <code>](</code> URL <code>)</code></p><p>例</p><p><code>[Julia 0.6 Documentation](https://docs.julialang.org/en/v0.6/)</code></p><p><a href="https://docs.julialang.org/en/v0.6/">Julia 0.6 Documentation</a></p><p>Markdown記法では、数式を挿入することができる。 ダラー記号 <code>$</code> 一つで囲まれた数式は行内数式 (inline math)、 ダラー記号 <code>$</code> 二つで囲まれた数式は別行立て数式 (display math)である。 数式そのものは LaTeX 記法で記述する。 いくつか例を示す。</p><ul><li><p>数式内の文字は変数とみなされ、斜体で表される。 <code>$x+1$</code> → <span>$x+1$</span></p></li><li><p>上付き <code>$x^{2}$</code> → <span>$x^{2}$</span></p></li><li><p>下付き <code>$x_{3}$</code> → <span>$x_{3}$</span></p></li><li><p>分数 <code>$\dfrac{a}{b}$</code> → <span>$\dfrac{a}{b}$</span></p></li><li><p>関数 <code>$f(x) = x^{2}+1$</code> → <span>$f(x) = x^{2}+1$</span></p></li><li><p>三角関数 <code>$\sin{x}, \tan{x}$</code> → <span>$\sin{x}, \tan{x}$</span></p></li><li><p>指数対数関数 <code>$\exp{x}, \log{x}$</code> → <span>$\exp{x}, \log{x}$</span></p></li><li><p>テキスト内の立体 (roman style) <code>$a\;\mathrm{over}\;b$</code> → <span>$a\;\mathrm{over}\;b$</span></p></li><li><p>総和 <code>$\sum_{i=0}^{m}i$</code> → <span>$\sum_{i=0}^{m}i$</span></p></li><li><p>総和を「行立て」する <code>$$\sum_{i=0}^{m}i$$</code> →</p></li></ul><div>\[\sum_{i=0}^{m}i\]</div><ul><li><p>積分 <code>$\int_{0}^{1}x dx$</code> → <span>$\int_{0}^{1}x dx$</span></p></li><li><p>積分を「行立て」する <code>$$\int_{0}^{1}x dx$$</code> →</p></li></ul><div>\[\int_{0}^{1}x dx\]</div><ul><li><p>カッコのペア <code>$\left[\left\{\left( \dfrac{1}{2} \right)\right\}\right]$</code> → <span>$\left[\left\{\left( \dfrac{1}{2} \right)\right\}\right]$</span></p></li></ul><h2><a class="nav-anchor" id="定義域・値域-1" href="#定義域・値域-1">▶︎ 定義域・値域</a></h2><p>関数 <span>$y=f(x)$</span> の定義域(domain)とは、 独立変数 (independent variable) <span>$x$</span> の取りうる値からなる集合である。ちなみに、従属変数 (dependent variable) <span>$y$</span> が取りうる値からなる集合を、値域 (range)という</p><p>本章では、 定義域が実数全体、あるいは、正の数の集合である関数について、 グラフを描いてみる。</p><h2><a class="nav-anchor" id="正弦関数・余弦関数を描く-1" href="#正弦関数・余弦関数を描く-1">▶︎ 正弦関数・余弦関数を描く</a></h2><ul><li><p>正弦 <span>$y = \sin{x}$</span></p></li><li><p>余弦 <span>$y = \cos{x}$</span></p></li></ul><h3><a class="nav-anchor" id="ラジアン単位-1" href="#ラジアン単位-1">ラジアン単位</a></h3><ul><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.cos"><code>Base.cos</code> - Function</a></p></li><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.sin"><code>Base.sin</code> - Function</a></p></li></ul><p>ラジアン単位の正弦、余弦 <code>sin</code>, <code>cos</code></p><div><pre><code class="language-julia">using PyPlot
xs=-2pi:pi/360:2pi
plot(xs, cos.(xs), label=&quot;cos&quot;)
plot(xs, sin.(xs), label=&quot;sin&quot;)
xlabel(&quot;radian&quot;)
legend()</code></pre></div><p><img src="ch03-sin1-plot.svg" alt/></p><h3><a class="nav-anchor" id="円周率単位-1" href="#円周率単位-1">円周率単位</a></h3><ul><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.Math.cospi"><code>Base.Math.cospi</code> - Function</a></p></li><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.Math.sinpi"><code>Base.Math.sinpi</code> - Function</a></p></li></ul><p>円周率単位の正弦、余弦 <code>sinpi</code>, <code>cospi</code></p><div><pre><code class="language-julia">using PyPlot
xs=-2:1/360:2
plot(xs, cospi.(xs), label=&quot;cospi&quot;)
plot(xs, sinpi.(xs), label=&quot;sinpi&quot;)
xlabel(&quot;pi&quot;)
legend()</code></pre></div><p><img src="ch03-sin2-plot.svg" alt/></p><h3><a class="nav-anchor" id="角度単位-1" href="#角度単位-1">角度単位</a></h3><ul><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.Math.cosd"><code>Base.Math.cosd</code> - Function</a></p></li><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.Math.sind"><code>Base.Math.sind</code> - Function</a></p></li></ul><p>角度単位の正弦、余弦 <code>sind</code>, <code>cosd</code></p><div><pre><code class="language-julia">using PyPlot
xs=-360:1:360
plot(xs, cosd.(xs), label=&quot;cosd&quot;)
plot(xs, sind.(xs), label=&quot;sind&quot;)
xlabel(&quot;degree&quot;)
legend()</code></pre></div><p><img src="ch03-sin3-plot.svg" alt/></p><h3><a class="nav-anchor" id="ラジアンと角度との相互変換-1" href="#ラジアンと角度との相互変換-1">ラジアンと角度との相互変換</a></h3><ul><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.Math.rad2deg"><code>Base.Math.rad2deg</code> - Function</a></p></li><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.Math.deg2rad"><code>Base.Math.deg2rad</code> - Function</a></p></li></ul><pre><code class="language-julia-repl">julia&gt; # rad2deg
       rad2deg(pi/4)
45.0

julia&gt; rad2deg(pi/2)
90.0

julia&gt; rad2deg(pi)
180.0

julia&gt; rad2deg(-pi/4)
-45.0

julia&gt; # deg2rad
       deg2rad(45)
0.7853981633974483

julia&gt; deg2rad(90)
1.5707963267948966

julia&gt; deg2rad(180)
3.141592653589793

julia&gt; deg2rad(-45)
-0.7853981633974483</code></pre><h2><a class="nav-anchor" id="楕円を描く-1" href="#楕円を描く-1">▶︎ 楕円を描く</a></h2><p>楕円を陰関数で表示すると</p><div>\[\left(\frac{x}{a}\right)^2+\left(\frac{y}{b}\right)^2 = 1\]</div><p>楕円を媒介変数表示(パラメータ曲線)すると</p><div>\[\begin{align*}x &amp; = a \cos \theta\\ y &amp; = b \sin \theta \end{align*}\]</div><p>媒介変数表示を用いて、楕円上の各点の座標を計算する。</p><div><pre><code class="language-julia">using PyPlot
ts=0:pi/18:2pi
xs=2*cos.(ts)
ys=sin.(ts)
plot(xs,ys)
xlim(-3,3)
ylim(-3,3)
plt[:axes]()[:set_aspect](&quot;equal&quot;)</code></pre></div><p><img src="ch03-ell1-plot.svg" alt/></p><h2><a class="nav-anchor" id="アルキメデスの渦を描く-1" href="#アルキメデスの渦を描く-1">▶︎ アルキメデスの渦を描く</a></h2><p>平面座標上の点 <span>$（x,y)$</span>は、 極座標 <span>$(r, \theta)$</span> でも表示できる。 <span>$x,y$</span>と <span>$r, \theta$</span> との対応は</p><div>\[\begin{align*}x &amp; = r \cos \theta\\ y &amp; = r \sin \theta \end{align*}\]</div><p>である。</p><p>次の関係で結ばれた曲線を、アルキメデスの渦という。</p><div>\[r = \theta\]</div><p>これを描いてみよう。</p><div><pre><code class="language-julia">using PyPlot
ts=0:pi/1800:2pi
xs=ts .* cos.(ts)
ys=ts .* sin.(ts)
plot(xs, ys)
plt[:axes]()[:set_aspect](&quot;equal&quot;)</code></pre></div><p><img src="ch03-arch1-plot.svg" alt/></p><h2><a class="nav-anchor" id="練習-1" href="#練習-1">◀︎ 練習</a></h2><p>上では <span>$\theta \ge 0$</span> の範囲で、曲線を描いた。 パラメータ <span>$\theta &lt; 0$</span> の範囲まで含めたら、どのような曲線になるか？ 予想した上で、プログラムを書き実行し、確かめてみよ。 予想と一致していたか？</p><h2><a class="nav-anchor" id="花曲線を描く-1" href="#花曲線を描く-1">▶︎ 花曲線を描く</a></h2><p>flower curve</p><div>\[r = \cos(n \theta)\]</div><div><pre><code class="language-julia">using PyPlot
n=3
ts=0:pi/1800:2pi
rs=cos.(n*ts)
xs=rs .* cos.(ts)
ys=rs .* sin.(ts)
plot(xs, ys)
plt[:axes]()[:set_aspect](&quot;equal&quot;)</code></pre></div><p><img src="ch03-flo1-plot.svg" alt/></p><h2><a class="nav-anchor" id="指数関数を描く-1" href="#指数関数を描く-1">▶︎ 指数関数を描く</a></h2><p>正の数 <span>$a &gt; 0$</span>を底(exponent)とする指数関数(exponential function)</p><div>\[y=a^x\]</div><p>底 <span>$a=2$</span>の場合。</p><div><pre><code class="language-julia">using PyPlot
xs=-10:0.01:10
plot(xs, 2.^xs)</code></pre></div><p><img src="ch03-exp1-plot.svg" alt/></p><p>底を <span>$2,3,4.5$</span>と変えてみる。<span>$x &gt; 0$</span> の範囲のみ描く。</p><div><pre><code class="language-julia">plot(xs, 2.^xs)
plot(xs, 3.^xs)
plot(xs, 4.^xs)
plot(xs, 5.^xs)
xlim(0,3)
ylim(0,100)</code></pre></div><p><img src="ch03-exp2-plot.svg" alt/></p><p>凡例(legend）を加える。</p><div><pre><code class="language-julia">plot(xs, 2.^xs, label=&quot;a=&quot;*string(2))
plot(xs, 3.^xs, label=&quot;a=&quot;*string(3))
plot(xs, 4.^xs, label=&quot;a=&quot;*string(4))
plot(xs, 5.^xs, label=&quot;a=&quot;*string(5))
plot(xs, 6.^xs, label=&quot;a=&quot;*string(6))
legend()
xlim(0,3)
ylim(0,100)</code></pre></div><p><img src="ch03-exp3-plot.svg" alt/></p><p>自然対数の底として、<code>e</code> と <code>eu</code> が定義済みである。</p><pre><code class="language-julia-repl">julia&gt; e
e = 2.7182818284590...

julia&gt; eu
e = 2.7182818284590...</code></pre><p>底を変えて、繰り返してみる。<span>$a^0=1=10^0$</span> で、曲線が交差している。</p><p>以下は、片対数グラフで描いた。</p><p>関数 <code>xscale</code>, <code>yscale</code> は、 それぞれ x軸、y軸のスケールを指定する。 何も指定しない場合（既定値）は、線形 <code>linear</code> である。 <code>log</code> を指定すると、10の対数で、その軸を描く。</p><div><pre><code class="language-julia">for a in [2,e,3,4,5,6]
  plot(xs, a.^xs, label=&quot;a=&quot;*string(a))
end
yscale(&quot;log&quot;)
xlim(-1,3)
ylim(1e-1,1e3)
legend()</code></pre></div><p><img src="ch03-exp4-plot.svg" alt/></p><p>底 <span>$2, e, 10$</span> については、<code>exp</code>で始まる関数が定義されている。</p><ul><li><p><code>exp2</code> : 底が 2 の指数関数</p></li><li><p><code>exp</code> : 自然対数 (底は、自然対数の底)</p></li><li><p><code>exp10</code> : 底が 10 の指数関数</p></li></ul><div><pre><code class="language-julia">plot(xs, exp2.(xs), label=&quot;exp2&quot;)
plot(xs, exp.(xs), label=&quot;exp&quot;)
plot(xs, exp10.(xs), label=&quot;exp10&quot;)
yscale(&quot;log&quot;)
xlim(-1,3)
ylim(1e-1,1e3)
legend()</code></pre></div><p><img src="ch03-exp7-plot.svg" alt/></p><p>関数も名前であり、名前をつけること(=変数に代入すること）ができる。 関数のリストを作って <code>for</code>文で繰り返してみよう。 関数名を <code>string</code>関数に与えると、関数名の文字列を返す。</p><div><pre><code class="language-julia">for f in [exp2,exp,exp10]
  plot(xs, f.(xs), label=string(f))
end
yscale(&quot;log&quot;)
xlim(-1,3)
ylim(1e-1,1e3)
legend()</code></pre></div><p><img src="ch03-exp8-plot.svg" alt/></p><h2><a class="nav-anchor" id="平方根を描く-1" href="#平方根を描く-1">▶︎ 平方根を描く</a></h2><ul><li><p><a href="https://docs.julialang.org/en/v0.6.4/stdlib/math/#Base.sqrt"><code>Base.sqrt</code> - Function</a></p></li></ul><p>二乗すると<span>$x$</span>になる数を、<span>$x$</span>の平方根 (square root of <span>$x$</span>)という。 関数 <code>sqrt(x)</code>は <code>x</code>の平方根を求める関数である。</p><pre><code class="language-julia-repl">julia&gt; sqrt(0)
0.0

julia&gt; sqrt(2)
1.4142135623730951

julia&gt; sqrt(3)
1.7320508075688772</code></pre><p>負の数 <span>$x &lt; 0$</span>を関数<code>sqrt</code>の引数（ひきすう)に与えると、 例外（exception)が発生する。 が、複素数を引数として与えると、複素数として計算できる（複素数は、もっと後の回で説明する）。</p><pre><code class="language-julia-repl">julia&gt; sqrt(-1) # DomainError
ERROR: DomainError:

julia&gt; sqrt(complex(-1,0))  # 複素数を引数に与える
0.0 + 1.0im</code></pre><p>平方と平方根を同じグラフに描いてみよう。 直線 <span>$y=x$</span> に対して、鏡の関係になっている。</p><div><pre><code class="language-julia">using PyPlot
xs=0:0.01:3
plot(xs, xs.^2, label=&quot;square&quot;)
plot(xs, sqrt.(xs), label=&quot;square root&quot;)
plot(xs, xs, &quot;k&quot;, lw=0.5, label=&quot;y=x&quot;)
xlim(-0.2,2.2)
ylim(-0.2,2.2)
xlabel(&quot;x&quot;)
ylabel(&quot;y&quot;)
legend()
plt[:axes]()[:set_aspect](&quot;equal&quot;)</code></pre></div><p><img src="ch03-sr1-plot.svg" alt/></p><h2><a class="nav-anchor" id="立方根を描く-1" href="#立方根を描く-1">▶︎ 立方根を描く</a></h2><ul><li><p><a href="https://docs.julialang.org/en/v0.6.4/stdlib/math/#Base.Math.cbrt"><code>Base.Math.cbrt</code> - Function</a></p></li></ul><p>三乗すると<span>$x$</span>になる数を、<span>$x$</span>の立方根 (cube root of <span>$x$</span>)という。 関数 <code>cbrt(x)</code>は <code>x</code>の立方根を求める関数である。</p><p>立方と立方根を同じグラフに描いてみよう。 直線 <span>$y=x$</span> に対して、鏡の関係になっている。</p><div><pre><code class="language-julia">using PyPlot
xs=0:0.01:3
plot(xs, xs.^3, label=&quot;cubic&quot;)
plot(xs, cbrt.(xs), label=&quot;cube root&quot;)
plot(xs, xs, &quot;k&quot;, lw=0.5, label=&quot;y=x&quot;)
xlim(-0.2,2.2)
ylim(-0.2,2.2)
xlabel(&quot;x&quot;)
ylabel(&quot;y&quot;)
legend()
plt[:axes]()[:set_aspect](&quot;equal&quot;)</code></pre></div><p><img src="ch03-cr1-plot.svg" alt/></p><p>平方と平方根、立方と立方根を、同じグラフに描こう。 点<span>$(1,1)$</span>で、曲線が交差している。</p><div><pre><code class="language-julia">using PyPlot
xs=0:0.01:3
plot(xs, xs.^2, label=&quot;square&quot;)
plot(xs, sqrt.(xs), label=&quot;square root&quot;)
plot(xs, xs.^3, label=&quot;cube&quot;)
plot(xs, cbrt.(xs), label=&quot;cube root&quot;)
plot(xs, xs, &quot;k&quot;, lw=0.5, label=&quot;y=x&quot;)
legend()
xlim(-0.2,2.2)
ylim(-0.2,2.2)
xlabel(&quot;x&quot;)
ylabel(&quot;y&quot;)
plt[:axes]()[:set_aspect](&quot;equal&quot;)</code></pre></div><p><img src="ch03-pr1-plot.svg" alt/></p><p>平方根と立方根の関数のリストを作って <code>for</code>文で繰り返してみよう。 （結果のグラフは、上と同じなので省略する）</p><div><pre><code class="language-julia">using PyPlot
xs=0:0.01:3
for f in [ sqrt, cbrt]
  plot(xs, f.(xs), label=string(f))
end
legend()
xlim(-0.2,2.2)
ylim(-0.2,2.2)
xlabel(&quot;x&quot;)
ylabel(&quot;y&quot;)
plt[:axes]()[:set_aspect](&quot;equal&quot;)</code></pre></div><p><img src="ch03-pr2-plot.svg" alt/></p><h2><a class="nav-anchor" id="冪乗根を描く-1" href="#冪乗根を描く-1">▶︎ 冪乗根を描く</a></h2><p>一般に、正数 <span>$x &gt; 0$</span> と <span>$2$</span>以上の整数<span>$n$</span> に対して、<span>$y^n = x$</span> の解、 すなわち、<span>$y = \sqrt[n]{x} = x^{\frac{1}{n}}$</span>を、<span>$x$</span>の<span>$n$</span>乗根 (root of <span>$n$</span>-th power, <span>$n$</span>-th root)という。<span>$n$</span>を指定せずに、冪乗根（べきじょうこん）あるいは冪根（べきこん）と総称する。 「冪」の代わりに「巾」の略字を当てることもある。</p><p>PyPlotパッケージに用意された関数 <code>axvline()</code>で垂直線 (vertical line)を描く。引数は、前回説明した関数 <code>axhline</code> (水平線を描く)と同じである。</p><div><pre><code class="language-julia">using PyPlot
xs=0:0.01:3
plot(xs, xs.^(1/2), label=&quot;n=2&quot;)
plot(xs, xs.^(1/3), label=&quot;n=3&quot;)
plot(xs, xs.^(1/4), label=&quot;n=4&quot;)
plot(xs, xs.^(1/5), label=&quot;n=5&quot;)
legend()
xlim(-0.2,2.2)
ylim(-0.2,2.2)
axhline(1, color=&quot;k&quot;, lw=0.5)
axvline(1, color=&quot;k&quot;, lw=0.5)
plt[:axes]()[:set_aspect](&quot;equal&quot;)</code></pre></div><p><img src="ch03-pr3-plot.svg" alt/></p><p>指数<span>$n$</span>で繰り返してみる。</p><div><pre><code class="language-julia">using PyPlot
xs=0:0.01:10
for n in 2:5
  plot(xs, xs.^(1/n), label=&quot;y=x^(1/&quot; * string(n) *&quot;)&quot; )
end
legend()
xlabel(&quot;x&quot;)
ylabel(&quot;y&quot;)
xlim(0.1,10.)
ylim(0.1,10.)
xscale(&quot;log&quot;)
yscale(&quot;log&quot;)
axhline(1, color=&quot;k&quot;, lw=0.5)
axvline(1, color=&quot;k&quot;, lw=0.5)</code></pre></div><p><img src="ch03-pr4-plot.svg" alt/></p><h2><a class="nav-anchor" id="自然対数-1" href="#自然対数-1">▶︎ 自然対数</a></h2><ul><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.log-Tuple{Any}"><code>Base.log</code> — Method</a></p></li></ul><p>正の数 <span>$x&gt;0$</span>に対して、<span>$x=e^y$</span> を満たす数 <span>$y$</span>を、<span>$x$</span>の自然対数 (natural logarithm of <span>$x$</span>、Napierian logarithm、あるいは単に、logarithm）といい、<span>$\log{x}$</span> と書く。</p><p>関数 <code>log(x)</code>は、自然対数を求める関数である。</p><pre><code class="language-julia-repl">julia&gt; log(1)
0.0

julia&gt; log(e)
1

julia&gt; log(e^2)
2.0

julia&gt; log(-1) # DomainError
ERROR: DomainError:</code></pre><p>線形グラフで描いてみる。</p><div><pre><code class="language-julia">using PyPlot
using PyPlot
xs=0.1:0.01:100
0.1:0.01:100.0
plot(xs, log.(xs))</code></pre></div><p><img src="ch03-log1-plot.svg" alt/></p><p>片対数グラフで描いてみる。<span>$x$</span>軸を対数で表示すると、直線で表示される。</p><div><pre><code class="language-julia">plot(xs, log.(xs))
xscale(&quot;log&quot;)</code></pre></div><p><img src="ch03-log2-plot.svg" alt/></p><h2><a class="nav-anchor" id="対数関数-1" href="#対数関数-1">▶︎ 対数関数</a></h2><ul><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.log-Tuple{Number,Number}">Base.log — Method</a></p></li></ul><p>正の数 <span>$a$</span>に対して、<span>$x=a^y$</span> を満たす数<span>$y$</span>を、底<span>$a$</span>に対する <span>$x$</span>の対数 ( logarithm of <span>$a$</span> to base b; base <span>$a$</span> logarithm of <span>$x$</span>）といい、<span>$\log_{a}{y}$</span>と書く。</p><p>関数 <code>log(a,y)</code>のように、引数（ひきすう）二つを与えると、 底 <span>$a$</span>に対する <span>$x$</span>の対数が得られる。</p><p>片対数グラフを描く。<span>$\log_{a}{1}=0$</span>で曲線が交差する。</p><div><pre><code class="language-julia">plot(xs, log.(2,xs), label=string(2))
plot(xs, log.(xs), label=string(e))
plot(xs, log.(3,xs), label=string(3))
plot(xs, log.(10,xs), label=string(10))
xscale(&quot;log&quot;)
axhline(0, color=&quot;k&quot;, lw=0.5)
axvline(1, color=&quot;k&quot;, lw=0.5)
legend()</code></pre></div><p><img src="ch03-log3-plot.svg" alt/></p><p>底を<code>for</code>文で変えてみる。</p><div><pre><code class="language-julia">for a in [2, e, 3, 10]
  plot(xs, log.(a,xs), label=string(a))
end
xscale(&quot;log&quot;)
axhline(0, color=&quot;k&quot;, lw=0.5)
axvline(1, color=&quot;k&quot;, lw=0.5)
legend()</code></pre></div><p><img src="ch03-log4-plot.svg" alt/></p><ul><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.log2"><code>Base.log2</code> - Function</a></p></li><li><p><a href="https://docs.julialang.org/en/v0.6/stdlib/math/#Base.log10"><code>Base.log10</code> - Function</a></p></li></ul><p>底 <span>$2$</span>と<span>$10$</span> に対しては、関数 <code>log2</code>と <code>log10</code> が用意されている。</p><div><pre><code class="language-julia">plot(xs, log2.(xs), label=&quot;log2&quot;)
plot(xs, log.(xs), label=&quot;log&quot;)
plot(xs, log10.(xs), label=&quot;log10&quot;)
xscale(&quot;log&quot;)
legend()
axhline(0, color=&quot;k&quot;, lw=0.5)
axvline(1, color=&quot;k&quot;, lw=0.5)</code></pre></div><p><img src="ch03-log5-plot.svg" alt/></p><p>関数名で繰り返してみる。</p><div><pre><code class="language-julia">for f in [log2, log, log10]
  plot(xs, f.(xs), label=string(f))
end
xscale(&quot;log&quot;)
legend()
axhline(0, color=&quot;k&quot;, lw=0.5)
axvline(1, color=&quot;k&quot;, lw=0.5)</code></pre></div><p><img src="ch03-log6-plot.svg" alt/></p><h2><a class="nav-anchor" id="ダブルYグラフを描く-1" href="#ダブルYグラフを描く-1">▶︎ ダブルYグラフを描く</a></h2><p>ダブルYグラフは、 <span>$x$</span>軸を共通として、左と右に、二つの <span>$y$</span>軸を配置するグラフである。</p><div></div><p><img src="ch04-tw1-plot.svg" alt/></p><p>これを描くには、次の手順をとる。 まず、以下のように、 元となる座標系(左<span>$y$</span>軸)のデータ（オブジェクト）<code>ax1</code>を取得する。</p><pre><code class="language-none">fig=plt[:figure]()
ax1=fig[:add_subplot](111)</code></pre><p>次に、以下のように、 <span>$x$</span>軸が共通な、新しい座標系(右<span>$y$</span>軸)のデータ（オブジェクト）<code>ax2</code>を作成する。</p><pre><code class="language-none">ax2=ax1[:twinx]()</code></pre><p>座標系 <code>ax</code>に対して描画するには、<code>ax[:plot](&lt;&lt;plot引数&gt;&gt;)</code> の形式を用いる。</p><div><pre><code class="language-julia">using PyPlot
xs=-2:0.1:2
fig=plt[:figure]()
ax1=fig[:add_subplot](111)
ax1[:plot](xs, -xs, &quot;r&quot;)
ax2=ax1[:twinx]()
ax2[:plot](xs, xs.^2, &quot;b&quot;)</code></pre></div><h2><a class="nav-anchor" id="自由落下運動を描く-1" href="#自由落下運動を描く-1">▶︎ 自由落下運動を描く</a></h2><p>(力学の問題)</p><p>鉛直上向きに投げられた球が、重力のみを感じて自由落下するとする。 時刻 <span>$t=0$</span>において、高さ <span>$y=0$</span>, 鉛直上向きの速度 <span>$v_0$</span> とすると、 時刻 <span>$t$</span>における、高さ <span>$y$</span>と 鉛直上向きの速度 <span>$v$</span> は、以下のように表される。</p><div>\[\begin{align*} v &amp; = v_0 - gt, \\ y &amp; = v_0 t - \dfrac{1}{2}gt^2 \end{align*}\]</div><p>各時刻の速度を描く。 長さの単位としてメートル <code>m</code>、 時間の単位として秒 <code>s</code> を、(組立て単位を含めて)一貫して用いる。</p><p>重力加速度 <span>$g = 9.8\;\mathrm{m/s^2}$</span></p><p>初速度を <span>$v0 = 10\;\mathrm{m/s}$</span> としよう。</p><p>各時刻の速度を描く。</p><div><pre><code class="language-julia">using PyPlot
v0=10 # m/s
g=9.8 # m/s^2

ts=0:0.1:3 # s
vs=v0-g*ts
plot(ts,vs)</code></pre></div><p><img src="ch04-gy1-plot.svg" alt/></p><p>各時刻の高さを描く。</p><div><pre><code class="language-julia">ys=v0*ts-g*ts.^2/2
plot(ts,ys)</code></pre></div><p><img src="ch04-gy2-plot.svg" alt/></p><p>この二つのグラフを、時刻を、共通の横軸にとって描こう。</p><div><pre><code class="language-julia">ax1=plt[:subplot]()
ax2=ax1[:twinx]()
ax1[:plot](ts,vs)
ax2[:plot](ts,ys)</code></pre></div><p><img src="ch04-gy3-plot.svg" alt/></p><p>各軸に対して、描画範囲を指定する。 各軸オブジェクトに対して関数 <code>set_xlim</code> または <code>set_ylim</code> を用いる。 (関数 <code>xlim</code> または <code>ylim</code> は、軸オブジェクトに対して用いない)</p><p>共通な下軸に対しては、元の軸オブジェクト <span>$ax1$</span>に対して指定する。 左軸、右軸は、各軸のオブジェクトに対して指定する。</p><p>各軸にラベルをつけるには、 各軸オブジェクトに対して関数 <code>set_xlabel</code> または <code>set_ylabel</code> を用いる。 (関数 <code>xlabel</code> または <code>ylabel</code> は、軸オブジェクトに対して用いない)</p><div><pre><code class="language-julia">ax1[:set_xlabel](&quot;time / s&quot;)
ax1[:set_xlim](-0.3,2.3)
ax1[:set_ylim](-12,12)
ax2[:set_ylim](-6,6)
ax1[:set_ylabel](&quot;velocity / m s^-1&quot;)
ax2[:set_ylabel](&quot;height / m&quot;)</code></pre></div><p><img src="ch04-gy4-plot.svg" alt/></p><p>各軸に対して、水平線 <code>axvline</code> や垂直線 <code>axvline</code> を描く。</p><p>時刻 <span>$\dfrac{v0}{g}$</span> で、速度が 0 となり、最大の高さを取る様子が見える。</p><div><pre><code class="language-julia">ax1[:axvline](v0/g, color=&quot;k&quot;, lw=0.5)
ax1[:axvline](0, color=&quot;k&quot;, lw=0.5)
ax1[:axhline](0, color=&quot;k&quot;, lw=0.5)</code></pre></div><p><img src="ch04-gy5-plot.svg" alt/></p><h2><a class="nav-anchor" id="練習-2" href="#練習-2">◀︎ 練習</a></h2><p>初速度 <code>v0</code> を変えて描いてみよ。</p><h2><a class="nav-anchor" id="ダブルYグラフに共通な凡例の作成-1" href="#ダブルYグラフに共通な凡例の作成-1">▼▶︎ ダブルYグラフに共通な凡例の作成</a></h2><p>複数軸に共通な凡例を描くには、技巧が少々必要である。</p><p>まず、前節のプログラムをまとめて書こう。 二つの曲線に、色を指定しよう。</p><div><pre><code class="language-julia">using PyPlot
ax1=plt[:subplot]()
ax2=ax1[:twinx]()
ax1[:plot](ts,vs, &quot;b&quot;, label=&quot;velocity&quot;)
ax2[:plot](ts,ys, &quot;r&quot;, label=&quot;height&quot;)
ax1[:set_xlabel](&quot;time / s&quot;)
ax1[:set_xlim](-0.3,2.3)
ax1[:set_ylim](-12,12)
ax2[:set_ylim](-6,6)
ax1[:set_ylabel](&quot;velocity / m s^-1&quot;)
ax2[:set_ylabel](&quot;height / m&quot;)
ax1[:axvline](10/9.8, color=&quot;k&quot;, lw=0.5)
ax1[:axvline](0, color=&quot;k&quot;, lw=0.5)
ax1[:axhline](0, color=&quot;k&quot;, lw=0.5)</code></pre></div><p>各軸に含まれる曲線の形状と凡例を、 <code>get_legend_handles_labels</code> 関数を用いて、取り出す。</p><p>二つの軸に含まれる形状と凡例を、それぞれ結合する。 片方の軸に対して、結合した形状と凡例を追加する。</p><div><pre><code class="language-julia">lns1, lbl1 = ax1[:get_legend_handles_labels]()
lns2, lbl2 = ax2[:get_legend_handles_labels]()
lns  = [ lns1; lns2 ]
lbls = [ lbl1; lbl2 ]

ax2[:legend]( lns, lbls, loc=0)</code></pre></div><p><img src="ch04-gy6-plot.svg" alt/></p><h2><a class="nav-anchor" id="練習-3" href="#練習-3">◀︎ 練習</a></h2><p>初速度 <code>v0</code>を、色々変えてプロットしてみよ。</p><h2><a class="nav-anchor" id="複数のグラフを描く-1" href="#複数のグラフを描く-1">▶︎ 複数のグラフを描く</a></h2><p>花曲線の例で <span>$n$</span>を変えてみる。</p><p>グラフのプロット領域を分割するには、以下の命令を用いる。</p><p><code>ax=plt[:subplot](ijk)</code></p><p><code>ijk</code> は３桁の整数である。 百の位 <code>i</code>は、縦方向の分割数、 十の位 <code>j</code>は、横報告の分割数である。 一の位は、取得するプロット番号であり、 左から右、上から下に、1から順に振られる。</p><div><pre><code class="language-julia">using PyPlot
ts=0:pi/1800:2pi
for i=1:6
  n=i+2
  ax=plt[:subplot](330+i)
  rs=cos.(n*ts)
  xs=rs .* cos.(ts)
  ys=rs .* sin.(ts)
  ax[:plot](xs,ys)
  ax[:set_xlim](-1,1)
  ax[:set_ylim](-1,1)
  ax[:set_aspect](&quot;equal&quot;)
end</code></pre></div><p><img src="ch03-flo2-plot.svg" alt/></p><h2><a class="nav-anchor" id="練習：斜めに飛ばした球の軌跡-1" href="#練習：斜めに飛ばした球の軌跡-1">◀︎ 練習：斜めに飛ばした球の軌跡</a></h2><p>(力学の問題)</p><p>鉛直上向きに対して 角度 <span>$b$</span>をつけて投げた球が、重力のみを感じて運動するとき、その球の軌跡を描け。</p><p>最初は <span>$b = 15^{\circ}$</span>として描け。</p><p>次に、角度<span>$b$</span>を変えた場合を、一つのグラフに示せ。</p><p>余裕があれば、Jupyter NotebookのMarkdownセルを用いて、解き方や式などの文飾を加えよ。</p><h2><a class="nav-anchor" id="練習-4" href="#練習-4">◀︎ 練習</a></h2><p>ここまで紹介した関数を使って、色々な連続曲線を描いてみよ。 Jupyter notebookの Markdownセルを用いて、説明文も加えよ。</p><h2><a class="nav-anchor" id="今回のまとめ-1" href="#今回のまとめ-1">★ 今回のまとめ</a></h2><ul><li><p>Jupyter Notebookを用いたテキスト入力 (Markdownセル)</p></li><li><p>実数全域で定義された関数</p><ul><li><p>正弦・余弦関数</p></li><li><p>楕円</p></li><li><p>極座標で著された曲線</p><ul><li><p>アルキメデスの渦</p></li><li><p>花曲線</p></li></ul></li><li><p>指数関数</p></li></ul></li><li><p>正数を定義域とする関数</p><ul><li><p>平方根・立方根・冪乗根</p></li><li><p>対数関数</p></li></ul></li><li><p>複数のグラフを描く方法</p><ul><li><p>ダブルYグラフ</p></li><li><p>ダブルYグラフに共通な凡例の作成</p></li><li><p>プロットエリアの分割</p></li></ul></li></ul><footer><hr/><a class="previous" href="ch02.html"><span class="direction">Previous</span><span class="title">第2回：▶︎ 複数のグラフを描く</span></a><a class="next" href="ch04.html"><span class="direction">Next</span><span class="title">第4回：▶︎ 不連続な曲線を描く</span></a></footer></article></body></html>
